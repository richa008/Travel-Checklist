var travelChecklistApp=angular.module("travelChecklistApp",["ui.bootstrap"]);travelChecklistApp.service("basicItemsDataService",["Item","Category",function(a,b){var c=[new a(1,"Cash",!1),new a(2,"Credit Card",!1),new a(3,"ID card",!1),new a(4,"Keys",!1),new a(5,"Wallet",!1)],d=[new a(1,"Camera",!1),new a(2,"Headphones",!1),new a(3,"Kindle",!1),new a(4,"Laptop",!1),new a(5,"Laptop Charger",!1),new a(6,"Mobile Phone",!1),new a(7,"Mobile Phone Charger",!1)],e=[new a(1,"Antacids",!1),new a(2,"Anteseptic cream",!1),new a(3,"Asprin",!1),new a(4,"Band-aid",!1),new a(5,"Contact lenses",!1),new a(6,"Contact lens solution",!1)],f=[new a(1,"Active wear",!1),new a(2,"Dresses/Skirts",!1),new a(3,"Inner wear",!1),new a(4,"Jacket",!1),new a(5,"Jeans",!1),new a(6,"Sleep wear",!1),new a(7,"Shorts",!1),new a(8,"Swimsuit",!1),new a(9,"Tshirts/Tops",!1)],g=[new a(1,"Athletic shoes",!1),new a(2,"Boots",!1),new a(3,"Sandals",!1),new a(4,"Slippers",!1)],h=[new a(1,"Backpack",!1),new a(2,"Belt",!1),new a(3,"Sunglasses",!1),new a(4,"Watchers",!1)],i=[new a(3,"Body wash",!1),new a(2,"Conditioner",!1),new a(9,"Deodorant",!1),new a(4,"Face wash",!1),new a(8,"Pads/Tampons",!1),new a(5,"Razors",!1),new a(1,"Shampoo",!1),new a(6,"Toothbrush",!1),new a(7,"Toothpaste",!1)],j=[new a(1,"Comb",!1),new a(4,"Hair gel",!1),new a(2,"Lip balm",!1),new a(5,"Lotion",!1),new a(3,"Sunscreen",!1)],k=[new a(1,"Book",!1),new a(2,"Map",!1),new a(3,"Travel pillow/Blanket",!1)];this.basicCategory=new b(101,"Basics",c.length,c),this.electronicsCategory=new b(102,"Electronics",d.length,d),this.medicineCategory=new b(103,"Medicines",e.length,e),this.clothesCategory=new b(104,"Clothes",f.length,f),this.footwearCategory=new b(105,"Footwear",g.length,g),this.accessoriesCategory=new b(106,"Accessories",h.length,h),this.personalHygieneCategory=new b(107,"Personal Hygiene Items",i.length,i),this.hairFaceCareCategory=new b(108,"Hair and Face Care",j.length,j),this.otherCategory=new b(109,"Other",k.length,k)}]),travelChecklistApp.controller("travelChecklistController",["$scope","$uibModal","$uibModalStack","basicItemsDataService","localStorageService","methodService",function(a,b,c,d,e,f){function g(){a.checklist.destination=e.getDestinationFromLocalStorage(),a.checklist.basicCategories=e.getBasicFromLocalStorage(),a.checklist.clothesCategories=e.getClothesFromLocalStorage(),a.checklist.otherCategories=e.getOtherFromLocalStorage()}function h(a,b,c){e.saveBasicToLocalStorage(a),e.saveClothesToLocalStorage(b),e.saveOtherToLocalStorage(c)}function i(a){e.saveDestinationToLocalStorage(a)}a.checklist={},g(),a.openCreateListModal=function(){a.model={};b.open({templateUrl:"/partials/createChecklistModal.html",controller:"travelChecklistController",scope:a})},a.closeModal=function(){c.dismissAll()},a.createChecklist=function(){a.$parent.checklist.destination=a.model.destination,a.$parent.checklist.basicCategories=[d.basicCategory,d.electronicsCategory,d.medicineCategory],a.$parent.checklist.clothesCategories=[d.clothesCategory,d.footwearCategory,d.accessoriesCategory],a.$parent.checklist.otherCategories=[d.personalHygieneCategory,d.hairFaceCareCategory,d.otherCategory],i(a.$parent.checklist.destination),h(a.$parent.checklist.basicCategories,a.$parent.checklist.clothesCategories,a.$parent.checklist.otherCategories),a.closeModal()},a.$on("saveChecklist",function(b){h(a.checklist.basicCategories,a.checklist.clothesCategories,a.checklist.otherCategories),b.stopPropagation()})}]),travelChecklistApp.directive("checklistCategory",["$uibModal","$uibModalStack","methodService",function(a,b,c){return{restrict:"E",scope:{category:"=",colNo:"@"},templateUrl:"partials/checklistCategory.html",link:function(d,e,f){d.onChange=function(a){d.$emit("saveChecklist")},d.openAddItemModal=function(){d.model={};a.open({templateUrl:"/partials/addChecklistItemModal.html",controller:"travelChecklistController",scope:d})},d.addItemToCategory=function(){c.addItemToCategory(d.category,d.model.itemName),d.$emit("saveChecklist"),b.dismissAll()},d.deleteItem=function(a){var b=d.category.items.indexOf(a);b!==-1&&d.category.items.splice(b,1),d.$emit("saveChecklist")}}}}]),travelChecklistApp.directive("showButtonOnHover",function(){return{restrict:"A",link:function(a,b,c){b.bind("mouseenter",function(){var a=b.find("button");a.removeClass("ng-hide")}),b.bind("mouseleave",function(){var a=b.find("button");a.addClass("ng-hide")})}}}),travelChecklistApp.service("localStorageService",function(){this.saveDestinationToLocalStorage=function(a){localStorage.setItem("Destination",JSON.stringify(a))},this.getDestinationFromLocalStorage=function(){var a=localStorage.getItem("Destination");if(null!==a)return JSON.parse(a)},this.saveBasicToLocalStorage=function(a){localStorage.setItem("BasicCategories",JSON.stringify(a))},this.getBasicFromLocalStorage=function(){var a=localStorage.getItem("BasicCategories");if(null!==a)return JSON.parse(a)},this.saveClothesToLocalStorage=function(a){localStorage.setItem("ClothesCategories",JSON.stringify(a))},this.getClothesFromLocalStorage=function(){var a=localStorage.getItem("ClothesCategories");if(null!==a)return JSON.parse(a)},this.saveOtherToLocalStorage=function(a){localStorage.setItem("OtherCategories",JSON.stringify(a))},this.getOtherFromLocalStorage=function(){var a=localStorage.getItem("OtherCategories");if(null!==a)return JSON.parse(a)}}),travelChecklistApp.factory("Item",function(){function a(a,b,c){this.id=a,this.name=b,this.done=c}return a}),travelChecklistApp.factory("Category",function(){function a(a,b,c,d){this.id=a,this.name=b,this.count=c,this.items=d}return a}),travelChecklistApp.service("methodService",["Item",function(a){this.addItemToCategory=function(b,c){var d=++b.count,e=new a(d,c,!1);return b.items.push(e),b}}]);